#!/usr/bin/env bash
# vim: ft=sh
set -e

NIMBUS_ETH1_BENCHMARKS_REPO="{{ nimbus_eth1_benchmark_git_repo_dir }}"

function cleanBenchmarkDir() {
  echo ">>> starting cleanBenchmarkDir() inside benchmarks-cleanup.sh"

  if [ ! -d "${NIMBUS_ETH1_BENCHMARKS_REPO}" ]; then
    echo ">>> Benchmark directory ${NIMBUS_ETH1_BENCHMARKS_REPO} does not exist, skipping cleanup"
    return 0
  fi

  echo "cd ${NIMBUS_ETH1_BENCHMARKS_REPO}"
  echo "git clean -df"
  echo "cd -"

  cd "${NIMBUS_ETH1_BENCHMARKS_REPO}"
  git clean -df
  cd -

  echo ">>> completed cleanBenchmarkDir()"
}

cleanBenchmarkDir
